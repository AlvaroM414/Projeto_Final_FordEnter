<div class="calculadora-imposto-container">
    <h2>Calculadora de Impostos</h2>
    
    <div class="calculadora-card">
      <form #impostoForm="ngForm" class="form-calculadora">
        <div class="form-group">
          <label for="rendaAnual">Renda Anual (R$)</label>
          <input 
            type="number" 
            id="rendaAnual" 
            name="rendaAnual" 
            [(ngModel)]="rendaAnual"
            placeholder="Digite sua renda anual"
            class="form-input"
            required>
        </div>
  
        <div class="form-group">
          <label for="tipoImposto">Tipo de Imposto</label>
          <select 
            id="tipoImposto" 
            name="tipoImposto" 
            [(ngModel)]="tipoImpostoSelecionado"
            class="form-select"
            required>
            <option value="irpf">IRPF</option>
            <option value="simples">Simples Nacional</option>
            <option value="presumido">Lucro Presumido</option>
          </select>
        </div>
  
        <button 
          type="button" 
          (click)="calcularImposto()" 
          class="btn-calcular"
          [disabled]="!impostoForm.valid">
          Calcular Imposto
        </button>
      </form>
  
      <div *ngIf="resultadoCalculo" class="resultado-section">
        <h3>Resultado do Cálculo</h3>
        <div class="resultado-item">
          <span>Imposto Devido:</span>
          <strong>R$ {{ resultadoCalculo.impostoDevido | number:'1.2-2' }}</strong>        <div class="resultado-item">
          <span>Alíquota Efetiva:</span>
          <strong>{{ resultadoCalculo.aliquotaEfetiva | number:'1.2-2' }}%</strong>      </div>
  
      <div class="tabela-irpf" *ngIf="tipoImpostoSelecionado === 'irpf'">
        <h4>Tabela IRPF 2024</h4>
        <table class="tabela-imposto">
          <thead>
            <tr>
              <th>Faixa (R$)</th>
              <th>Alíquota</th>
              <th>Deduzir (R$)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Até 22.847,76</td>
              <td>Isento</td>
              <td>-</td>
            </tr>
            <tr>
              <td>22.847,77 a 33.919,80</td>
              <td>7,5%</td>
              <td>1.713,58</td>
            </tr>
            <tr>
              <td>33.919,81 a 45.012,60</td>
              <td>15%</td>
              <td>4.257,57</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>